{% extends "bandbase.html" %}
{% block body %}

<h2>
    Band agreement for <strong>{{ band.group.name }}</strong> to perform at {{ c.EVENT_NAME_AND_YEAR }}!
</h2>
    <p>
        {{ c.EVENT_NAME_AND_YEAR }} will be held at <strong>Small Country Campground: 4400 Byrd Mill Rd., Louisa, VA 23093, from {{ c.EPOCH|datetime:"%B %d" }} - {{ c.ESCHATON|datetime:"%d, %Y" }}.</strong>
            <br>
        Performers are encouraged to attend the full event and interact with staff, fellow performers, and attendees in a relaxed environment.
            <br>
        If performers will not be attending the full event, we ask that they inform us in advance so we may better allocate sleeping arrangements.
    </p>

<h3>
    Performance
</h3>
    <p>
        Performance time and date for {{ band.group.name }} to be determined, and will be provided prior to the event as an update to this document.
            <br>
        Performer will be provided with <strong>{{ band.estimated_loadin_minutes }} minutes</strong>, of set up and line-check, followed by <strong>{{ band.performance_minutes }} minutes</strong> for performance.
            <br>
        Though MAGStock is a laid back event, these time-frames will be enforced, via an on-stage timer, to ensure that performances occur in a timely fashion.
    </p>

<h3>
    Merch
</h3>
    <p>
        Tables will be available in our concert tent throughout the weekend for performers' use.
    </p>

{% if band.payment %}
    <h3>
        Payment
    </h3>
    <b>${{ band.payment }}</b> by check on site after the show. 
{% endif %}


<h3>
    Accommodations
</h3>
    <p>
        [Number of performers] air-conditioned cabin space(s) with instrument storage will be provided (arriving {{ c.EPOCH|datetime:"%B %d" }}, departing {{ c.ESCHATON|datetime:"%d, %Y" }}), for each performer.
            <br>
        Cabin space is limited, so cabins may be shared between performers.
            <br>
        Alternately, performers may choose to camp in a tent, if they so desire. Air-conditioned instrument storage will still be provided.
            <br>
        Additional space, and camping equipment will be the responsibility of the performer.
    </p>


<h3>
    Parking
</h3>
    <p>
        Available outside performer cabins, or in the campground parking lot.
    </p>


<h3>
    Admission
</h3>
    <p>
        Each performer will receive one admission wristband, good for the duration of the event, and one additional complementary wristband for a guest.
            <br>
        Additional complementary wristbands may be issued on request.
    </p>

    <hr>

<h3>
    Your Information:
</h3>
<form method="post" action="agreement" class="form-horizontal" role="form">
    <input type="hidden" name="id" value="{{ band.id }}" />
    {% csrf_token %}

    <div class="form-group">
        <label class="col-sm-2 control-label">Performer Count:</label>
        <div class="col-sm-6">
            <input class="form-control" type="number" name="performer_count" value="{{ band.performer_count|default:band.estimated_performer_count }}" />
            <p class="help-text">
                To ensure that we have assigned the correct number of badges to your band, please confirm the number
                of performers in your band.
            </p>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-2 control-label">PoC Phone Number:</label>
        <div class="col-sm-6">
            <input class="form-control" type="text" name="poc_phone" value="{{ band.poc_phone|default:band.group.leader.cellphone }}" />
            <p class="help-text">
                Please enter the cellphone number of your preferred Point of Contact for any issues we may need to
                contact you about on-site.
            </p>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-2 control-label">Arrival Time:</label>
        <div class="col-sm-6">
            <input class="form-control" type="text" name="arrival_time" value="{{ band.arrival_time }}" />
            <p class="help-text">
                Please be as specific as possible about the day and time you plan on arriving at {{ c.EVENT_NAME }}.
            </p>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-2 control-label">Parking:</label>
        <div class="col-sm-6">
            {% checkbox band.bringing_vehicle %} We will be parking at MAGFest.
        </div>
    </div>

    <div id="vehicle-info" class="form-group" style="display:none">
        <label class="col-sm-2 control-label">Vehicle Information:</label>
        <div class="col-sm-6">
            <input class="form-control" type="text" name="vehicle_info" value="{{ band.vehicle_info }}" />
            <p class="help-text">
                If you're parking on-site, then please tell us the vehicle info (car, truck, attached trailer, tour bus, monster truck), so we can ensure parking availability.
            </p>
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-6 col-sm-offset-2">
            <button type="submit" class="btn btn-primary">Upload Band Info</button>
        </div>
    </div>
</form>

<script>
    var showOrHideVehicleInfo = function () {
        setVisible('#vehicle-info', $.field('bringing_vehicle').prop('checked'));
    };
    $(function () {
        showOrHideVehicleInfo();
        $.field('bringing_vehicle').on('click', showOrHideVehicleInfo);
    });
</script>

{% endblock %}
